<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/reset.css" />
    <script src="./js/main.js"></script>
  </head>
  <body>
    <div class="container">
      <header id="box_header">
        <div class="wrap_header">
          <h1 class="title">画像検索</h1>

          <form class="header_form">
            <input
              class="header_textarea"
              type="text"
              name="src_text"
              autocomplete="off"
            />
            <div class="wrap_header_radio-btn">
              <label>
                <input type="radio" name="show_sync" value="20" checked />20
              </label>
              <label>
                <input type="radio" name="show_sync" value="100" />100
              </label>
            </div>
            <button class="btn_form" type="button">検索</button>
          </form>
        </div>
      </header>

      <main id="box_main">
        <p class="src_before">検索ワードを入力してください。</p>
        <div class="img_box">
          <div id="imageContainer"></div>
        </div>
      </main>
    </div>
  </body>
  <script>
    /*---------関数は外部化している（./js/main.js）---------*/

    /*---------検索イベント--------*/
    const form_textarea = document.querySelector(".header_textarea");
    const form_btn = document.querySelector(".btn_form");
    //検索ボタン押下時
    form_btn.addEventListener("click", search_img);
    //テキストエリアでエンターキー押下時
    form_textarea.addEventListener("keydown", function (e) {
      if (e.key === "Enter") {
        e.preventDefault();
        search_img();
      }
    });

    /*-------scrollしてブラーをかけるイベント--------*/
    const header = document.getElementById("box_header");
    const height_header = document.getElementById("box_main").clientHeight;
    window.addEventListener("scroll", function () {
      const scroll_top = window.pageYOffset;
      if (scroll_top <= height_header) {
        header.classList.toggle("blur", false);
      } else if (height_header < scroll_top) {
        header.classList.toggle("blur", true);
      }
    });
  </script>
</html>
